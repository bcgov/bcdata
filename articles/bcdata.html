<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="bcdata">
<title>Get Started with bcdata • bcdata</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Mono-0.4.4/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Get Started with bcdata">
<meta property="og:description" content="bcdata">
<meta property="og:image" content="https://bcgov.github.io/bcdata/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">bcdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/bcdata.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/efficiently-query-spatial-data-in-the-bc-data-catalogue.html">Querying Spatial Data with bcdata</a>
    <a class="dropdown-item" href="../articles/explore-silviculture-data-using-bcdata.html">Exploring Silviculture Data with bcdata</a>
    <a class="dropdown-item" href="../articles/local-filter.html">Update to `filter()` behaviour in bcdata v0.4.0</a>
    <a class="dropdown-item" href="../articles/service_documentation.html">bcdata Service Documentation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bcgov/bcdata/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get Started with bcdata</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bcgov/bcdata/blob/HEAD/vignettes/bcdata.Rmd" class="external-link"><code>vignettes/bcdata.Rmd</code></a></small>
      <div class="d-none name"><code>bcdata.Rmd</code></div>
    </div>

    
    
<!--
Copyright 2019 Province of British Columbia

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
-->
<p>The <code>bcdata</code> <a href="https://www.r-project.org/" class="external-link">R</a>
package contains functions for searching &amp; retrieving data from the
<a href="https://catalogue.data.gov.bc.ca" class="external-link">B.C. Data Catalogue</a>.</p>
<p>The <a href="https://www2.gov.bc.ca/gov/content?id=79B5224167334667A44C9E8B5143D0C5" class="external-link">B.C.
Data Catalogue</a> is the place to find British Columbia Government
data, applications and web services. Much of the data are released under
the <a href="https://www2.gov.bc.ca/gov/content/data/open-data/open-government-licence-bc" class="external-link">Open
Government Licence — British Columbia</a>, as well as numerous other <a href="https://catalogue.data.gov.bc.ca/dataset?download_audience=Public" class="external-link">licences</a>.</p>
<p>You can install <code>bcdata</code> directly from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"bcdata"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bcgov.github.io/bcdata/">bcdata</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="bcdc_browse">
<code>bcdc_browse()</code><a class="anchor" aria-label="anchor" href="#bcdc_browse"></a>
</h3>
<p><code><a href="../reference/bcdc_browse.html">bcdata::bcdc_browse()</a></code> let’s you access the <a href="https://catalogue.data.gov.bc.ca" class="external-link">B.C. Data Catalogue web
interface</a> directly from R—opening the catalogue search page in your
default browser:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Take me to the B.C. Data Catalogue home page</span></span>
<span><span class="fu"><a href="../reference/bcdc_browse.html">bcdc_browse</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you know the catalogue “human-readable” record name or permanent
ID you can open directly to the record web page:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Take me to the B.C. Winery Locations catalogue record using the record name</span></span>
<span><span class="fu"><a href="../reference/bcdc_browse.html">bcdc_browse</a></span><span class="op">(</span><span class="st">"bc-winery-locations"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Take me to the B.C. Winery Locations catalogue record using the record permanent ID</span></span>
<span><span class="fu"><a href="../reference/bcdc_browse.html">bcdc_browse</a></span><span class="op">(</span><span class="st">"1d21922b-ec4f-42e5-8f6b-bf320a286157"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="bcdc_search">
<code>bcdc_search()</code><a class="anchor" aria-label="anchor" href="#bcdc_search"></a>
</h3>
<p><code><a href="../reference/bcdc_search.html">bcdc_search()</a></code> let’s you search records in the B.C. Data
Catalogue, returning the search results in your R session.</p>
<p>Let’s search the catalogue for records that contain the word
“recycling”:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Give me the catalogue search results for 'recycling'</span></span>
<span><span class="fu"><a href="../reference/bcdc_search.html">bcdc_search</a></span><span class="op">(</span><span class="st">"recycling"</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of B.C. Data Catalogue Records</span></span>
<span><span class="co">#&gt; Number of records: 3</span></span>
<span><span class="co">#&gt; Titles:</span></span>
<span><span class="co">#&gt; 1: Tire Stewardship BC Tire Recycling Data (csv)</span></span>
<span><span class="co">#&gt;  ID: f791329b-c2dc-4f82-9993-209780f2a1c6</span></span>
<span><span class="co">#&gt;  Name: tire-stewardship-bc-tire-recycling-data</span></span>
<span><span class="co">#&gt; 2: BC FIRST Tire Recycling Data 1991-2006 (csv)</span></span>
<span><span class="co">#&gt;  ID: a29ad492-29a2-44b9-8693-d27a8cc8e686</span></span>
<span><span class="co">#&gt;  Name: bc-first-tire-recycling-data-1991-2006</span></span>
<span><span class="co">#&gt; 3: Environmental Protection Information Resources e-Library (other)</span></span>
<span><span class="co">#&gt;  ID: dae0f2c3-b4f4-4d16-a96d-d7fe7c1581f3</span></span>
<span><span class="co">#&gt;  Name: environmental-protection-information-resources-e-library</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Access a single record by calling `bcdc_get_record(ID)` with the ID from the desired</span></span>
<span><span class="co">#&gt;  record.</span></span></code></pre></div>
<p>You can set the number of records to be returned from the search
and/or you can customize your search using the catalogue search
<em>facets</em> <code>license_id</code>, <code>download_audience</code>,
<code>res_format</code>, <code>sector</code>, and
<code>organization</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Give me the first catalogue search result for 'recycling'</span></span>
<span><span class="fu"><a href="../reference/bcdc_search.html">bcdc_search</a></span><span class="op">(</span><span class="st">"recycling"</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of B.C. Data Catalogue Records</span></span>
<span><span class="co">#&gt; Number of records: 1</span></span>
<span><span class="co">#&gt; Titles:</span></span>
<span><span class="co">#&gt; 1: Tire Stewardship BC Tire Recycling Data (csv)</span></span>
<span><span class="co">#&gt;  ID: f791329b-c2dc-4f82-9993-209780f2a1c6</span></span>
<span><span class="co">#&gt;  Name: tire-stewardship-bc-tire-recycling-data</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Access a single record by calling `bcdc_get_record(ID)` with the ID from the desired</span></span>
<span><span class="co">#&gt;  record.</span></span>
<span></span>
<span><span class="co">## Give me the catalogue search results for 'recycling' where the</span></span>
<span><span class="co">## data is licenced under Open Government Licence – British Columbia</span></span>
<span><span class="fu"><a href="../reference/bcdc_search.html">bcdc_search</a></span><span class="op">(</span><span class="st">"recycling"</span>, license_id <span class="op">=</span> <span class="st">"2"</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of B.C. Data Catalogue Records</span></span>
<span><span class="co">#&gt; Number of records: 1</span></span>
<span><span class="co">#&gt; Titles:</span></span>
<span><span class="co">#&gt; 1: BC FIRST Tire Recycling Data 1991-2006 (csv)</span></span>
<span><span class="co">#&gt;  ID: a29ad492-29a2-44b9-8693-d27a8cc8e686</span></span>
<span><span class="co">#&gt;  Name: bc-first-tire-recycling-data-1991-2006</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Access a single record by calling `bcdc_get_record(ID)` with the ID from the desired</span></span>
<span><span class="co">#&gt;  record.</span></span></code></pre></div>
<p>You can see all valid values for the catalogue search facets using
<code><a href="../reference/bcdc_search_facets.html">bcdata::bcdc_search_facets()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Valid values for search facet 'license_id'</span></span>
<span><span class="fu"><a href="../reference/bcdc_search_facets.html">bcdc_search_facets</a></span><span class="op">(</span>facet <span class="op">=</span> <span class="st">"license_id"</span><span class="op">)</span></span>
<span><span class="co">#&gt;         facet count                                             display_name name</span></span>
<span><span class="co">#&gt; 1  license_id    66                           Statistics Canada Open Licence   21</span></span>
<span><span class="co">#&gt; 2  license_id     1               Queen's Printer Licence - British Columbia   25</span></span>
<span><span class="co">#&gt; 3  license_id    12                      Open Government Licence – TransLink   48</span></span>
<span><span class="co">#&gt; 4  license_id    13 Open Government Licence – Municipality of North Cowichan   44</span></span>
<span><span class="co">#&gt; 5  license_id     5    Open Government Licence – Industry Training Authority   50</span></span>
<span><span class="co">#&gt; 6  license_id     3                 Open Government Licence - Destination BC   43</span></span>
<span><span class="co">#&gt; 7  license_id    61                         Open Government Licence - Canada   24</span></span>
<span><span class="co">#&gt; 8  license_id  1590               Open Government Licence - British Columbia    2</span></span>
<span><span class="co">#&gt; 9  license_id     2                  Open Government Licence - BC Assessment   47</span></span>
<span><span class="co">#&gt; 10 license_id     4                   Open Data Licence for ICBC Information   49</span></span>
<span><span class="co">#&gt; 11 license_id     2 Open Data Commons - Public Domain Dedication and Licence   45</span></span>
<span><span class="co">#&gt; 12 license_id    15                           Elections BC Open Data Licence   42</span></span>
<span><span class="co">#&gt; 13 license_id  1433                                              Access Only   22</span></span></code></pre></div>
<p>Finally, you can retrieve the <em>metadata</em> for a single
catalogue record by using the record name or permanent ID with
<code><a href="../reference/bcdc_get_record.html">bcdc_get_record()</a></code>. It is advised to use the permanent ID
rather than the human-readable name in non-interactive situations—like
scripts—to guard against future name changes of a record:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Give me the catalogue record metadata for `bc-first-tire-recycling-data-1991-2006`</span></span>
<span><span class="fu"><a href="../reference/bcdc_get_record.html">bcdc_get_record</a></span><span class="op">(</span><span class="st">"a29ad492-29a2-44b9-8693-d27a8cc8e686"</span><span class="op">)</span></span>
<span><span class="co">#&gt; B.C. Data Catalogue Record: BC FIRST Tire Recycling Data 1991-2006</span></span>
<span><span class="co">#&gt; Name: bc-first-tire-recycling-data-1991-2006 (ID: a29ad492-29a2-44b9-8693-d27a8cc8e686)</span></span>
<span><span class="co">#&gt; Permalink: https://catalogue.data.gov.bc.ca/dataset/a29ad492-29a2-44b9-8693-d27a8cc8e686</span></span>
<span><span class="co">#&gt; Licence: Open Government Licence - British Columbia</span></span>
<span><span class="co">#&gt; Description: Financial Incentives for Recycling Scrap Tires (FIRST) collection and</span></span>
<span><span class="co">#&gt;  recycling data (tonnes) from 1991 to 2006. In 2007 [Tire Stewardship</span></span>
<span><span class="co">#&gt;  BC](http://www.tsbc.ca/), a not for profit society, launched the new scrap tire</span></span>
<span><span class="co">#&gt;  recycling program replacing the government-run program that had been in place since</span></span>
<span><span class="co">#&gt;  1991. Tire Stewardship BC collection and recycling data is available</span></span>
<span><span class="co">#&gt;  [here](https://catalogue.data.gov.bc.ca/dataset/f791329b-c2dc-4f82-9993-209780f2a1c6).</span></span>
<span><span class="co">#&gt; Available Resources (1):</span></span>
<span><span class="co">#&gt;  1. BC FIRST Tire Recycling Data 1991-2006 (csv)</span></span>
<span><span class="co">#&gt; Access the full 'Resources' data frame using:</span></span>
<span><span class="co">#&gt;  bcdc_tidy_resources('a29ad492-29a2-44b9-8693-d27a8cc8e686')</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="bcdc_get_data">
<code>bcdc_get_data()</code><a class="anchor" aria-label="anchor" href="#bcdc_get_data"></a>
</h3>
<p>Once you have located the B.C. Data Catalogue record with the data
you want, you can use <code><a href="../reference/bcdc_get_data.html">bcdata::bcdc_get_data()</a></code> to download
and read the data from the record. You can use the record name,
permanent ID or the result from <code><a href="../reference/bcdc_get_record.html">bcdc_get_record()</a></code>. Let’s
look at the B.C. Highway Web Cameras data:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Get the data resource for the `bc-highway-cams` catalogue record</span></span>
<span><span class="fu"><a href="../reference/bcdc_get_data.html">bcdc_get_data</a></span><span class="op">(</span><span class="st">"bc-highway-cams"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 978 × 21</span></span>
<span><span class="co">#&gt;       id highwayNum…¹ highw…² camName caption credit orien…³ latit…⁴ longi…⁵ eleva…⁶ image…⁷ timeO…⁸</span></span>
<span><span class="co">#&gt;    &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1     2 5            Coquih… Coquih… Hwy 5,…  &lt;NA&gt;  N          49.6   -121.     980 f4e581… 2022-0…</span></span>
<span><span class="co">#&gt;  2     5 3            &lt;NA&gt;    Kooten… Hwy 3,…  &lt;NA&gt;  E          49.1   -117.    1781 f1322d… 2022-0…</span></span>
<span><span class="co">#&gt;  3     6 16           &lt;NA&gt;    Smithe… Hwy 16…  &lt;NA&gt;  N          54.8   -127.     497 5f3cb5… 2022-0…</span></span>
<span><span class="co">#&gt;  4     7 1            Fraser… Cole R… Hwy 1 …  &lt;NA&gt;  E          49.1   -122.      12 771e32… 2022-0…</span></span>
<span><span class="co">#&gt;  5     8 1            Vancou… Malaha… Hwy 1 …  &lt;NA&gt;  N          48.6   -124.     327 a4b785… 2022-0…</span></span>
<span><span class="co">#&gt;  6     9 19           &lt;NA&gt;    Nanaim… Hwy 19…  &lt;NA&gt;  N          49.2   -124.     130 83714f… 2022-0…</span></span>
<span><span class="co">#&gt;  7    10 97           Northe… South … Hwy 97…  &lt;NA&gt;  N          56.1   -121.     714 55a7f6… 2022-0…</span></span>
<span><span class="co">#&gt;  8    11 1            Trans … Revels… Hwy 1 …  &lt;NA&gt;  NE         51.0   -118.     450 bd7314… 2022-0…</span></span>
<span><span class="co">#&gt;  9    12 1            Trans … Three … Hwy 1,…  &lt;NA&gt;  E          50.9   -118.     510 569d16… 2022-0…</span></span>
<span><span class="co">#&gt; 10    13 99           Peace … Peace … Hwy 99… "For … N          49.0   -123.      10 91e9eb… 2022-0…</span></span>
<span><span class="co">#&gt; # … with 968 more rows, 9 more variables: secondsSinceLastAttempt &lt;dbl&gt;, lastModified &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   secondsSinceLastModified &lt;dbl&gt;, markedStale &lt;dbl&gt;, markedDelayed &lt;dbl&gt;, updatePeriodMean &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   updatePeriodStdDev &lt;dbl&gt;, fetchMean &lt;dbl&gt;, dbcMark &lt;chr&gt;, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​highwayNumber, ²​highwayLocationDescription, ³​orientation, ⁴​latitude, ⁵​longitude, ⁶​elevation,</span></span>
<span><span class="co">#&gt; #   ⁷​imageMD5, ⁸​timeOfLastAttempt</span></span>
<span></span>
<span><span class="co">## OR use the permanent ID, which is better for scripts or non-interactive use</span></span>
<span><span class="fu"><a href="../reference/bcdc_get_data.html">bcdc_get_data</a></span><span class="op">(</span><span class="st">"6b39a910-6c77-476f-ac96-7b4f18849b1c"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 978 × 21</span></span>
<span><span class="co">#&gt;       id highwayNum…¹ highw…² camName caption credit orien…³ latit…⁴ longi…⁵ eleva…⁶ image…⁷ timeO…⁸</span></span>
<span><span class="co">#&gt;    &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1     2 5            Coquih… Coquih… Hwy 5,…  &lt;NA&gt;  N          49.6   -121.     980 f4e581… 2022-0…</span></span>
<span><span class="co">#&gt;  2     5 3            &lt;NA&gt;    Kooten… Hwy 3,…  &lt;NA&gt;  E          49.1   -117.    1781 f1322d… 2022-0…</span></span>
<span><span class="co">#&gt;  3     6 16           &lt;NA&gt;    Smithe… Hwy 16…  &lt;NA&gt;  N          54.8   -127.     497 5f3cb5… 2022-0…</span></span>
<span><span class="co">#&gt;  4     7 1            Fraser… Cole R… Hwy 1 …  &lt;NA&gt;  E          49.1   -122.      12 771e32… 2022-0…</span></span>
<span><span class="co">#&gt;  5     8 1            Vancou… Malaha… Hwy 1 …  &lt;NA&gt;  N          48.6   -124.     327 a4b785… 2022-0…</span></span>
<span><span class="co">#&gt;  6     9 19           &lt;NA&gt;    Nanaim… Hwy 19…  &lt;NA&gt;  N          49.2   -124.     130 83714f… 2022-0…</span></span>
<span><span class="co">#&gt;  7    10 97           Northe… South … Hwy 97…  &lt;NA&gt;  N          56.1   -121.     714 55a7f6… 2022-0…</span></span>
<span><span class="co">#&gt;  8    11 1            Trans … Revels… Hwy 1 …  &lt;NA&gt;  NE         51.0   -118.     450 bd7314… 2022-0…</span></span>
<span><span class="co">#&gt;  9    12 1            Trans … Three … Hwy 1,…  &lt;NA&gt;  E          50.9   -118.     510 569d16… 2022-0…</span></span>
<span><span class="co">#&gt; 10    13 99           Peace … Peace … Hwy 99… "For … N          49.0   -123.      10 91e9eb… 2022-0…</span></span>
<span><span class="co">#&gt; # … with 968 more rows, 9 more variables: secondsSinceLastAttempt &lt;dbl&gt;, lastModified &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   secondsSinceLastModified &lt;dbl&gt;, markedStale &lt;dbl&gt;, markedDelayed &lt;dbl&gt;, updatePeriodMean &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   updatePeriodStdDev &lt;dbl&gt;, fetchMean &lt;dbl&gt;, dbcMark &lt;chr&gt;, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​highwayNumber, ²​highwayLocationDescription, ³​orientation, ⁴​latitude, ⁵​longitude, ⁶​elevation,</span></span>
<span><span class="co">#&gt; #   ⁷​imageMD5, ⁸​timeOfLastAttempt</span></span>
<span></span>
<span><span class="co">## OR use the result from bcdc_get_record()</span></span>
<span><span class="va">my_record</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bcdc_get_record.html">bcdc_get_record</a></span><span class="op">(</span><span class="st">"6b39a910-6c77-476f-ac96-7b4f18849b1c"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/bcdc_get_data.html">bcdc_get_data</a></span><span class="op">(</span><span class="va">my_record</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 978 × 21</span></span>
<span><span class="co">#&gt;       id highwayNum…¹ highw…² camName caption credit orien…³ latit…⁴ longi…⁵ eleva…⁶ image…⁷ timeO…⁸</span></span>
<span><span class="co">#&gt;    &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1     2 5            Coquih… Coquih… Hwy 5,…  &lt;NA&gt;  N          49.6   -121.     980 f4e581… 2022-0…</span></span>
<span><span class="co">#&gt;  2     5 3            &lt;NA&gt;    Kooten… Hwy 3,…  &lt;NA&gt;  E          49.1   -117.    1781 f1322d… 2022-0…</span></span>
<span><span class="co">#&gt;  3     6 16           &lt;NA&gt;    Smithe… Hwy 16…  &lt;NA&gt;  N          54.8   -127.     497 5f3cb5… 2022-0…</span></span>
<span><span class="co">#&gt;  4     7 1            Fraser… Cole R… Hwy 1 …  &lt;NA&gt;  E          49.1   -122.      12 771e32… 2022-0…</span></span>
<span><span class="co">#&gt;  5     8 1            Vancou… Malaha… Hwy 1 …  &lt;NA&gt;  N          48.6   -124.     327 a4b785… 2022-0…</span></span>
<span><span class="co">#&gt;  6     9 19           &lt;NA&gt;    Nanaim… Hwy 19…  &lt;NA&gt;  N          49.2   -124.     130 83714f… 2022-0…</span></span>
<span><span class="co">#&gt;  7    10 97           Northe… South … Hwy 97…  &lt;NA&gt;  N          56.1   -121.     714 55a7f6… 2022-0…</span></span>
<span><span class="co">#&gt;  8    11 1            Trans … Revels… Hwy 1 …  &lt;NA&gt;  NE         51.0   -118.     450 bd7314… 2022-0…</span></span>
<span><span class="co">#&gt;  9    12 1            Trans … Three … Hwy 1,…  &lt;NA&gt;  E          50.9   -118.     510 569d16… 2022-0…</span></span>
<span><span class="co">#&gt; 10    13 99           Peace … Peace … Hwy 99… "For … N          49.0   -123.      10 91e9eb… 2022-0…</span></span>
<span><span class="co">#&gt; # … with 968 more rows, 9 more variables: secondsSinceLastAttempt &lt;dbl&gt;, lastModified &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   secondsSinceLastModified &lt;dbl&gt;, markedStale &lt;dbl&gt;, markedDelayed &lt;dbl&gt;, updatePeriodMean &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   updatePeriodStdDev &lt;dbl&gt;, fetchMean &lt;dbl&gt;, dbcMark &lt;chr&gt;, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​highwayNumber, ²​highwayLocationDescription, ³​orientation, ⁴​latitude, ⁵​longitude, ⁶​elevation,</span></span>
<span><span class="co">#&gt; #   ⁷​imageMD5, ⁸​timeOfLastAttempt</span></span></code></pre></div>
<p>A catalogue record can have one or multiple data files—or
“resources”. If there is only one resource, <code><a href="../reference/bcdc_get_data.html">bcdc_get_data()</a></code>
will return that resource by default, as in the above
<code>bc-highway-cams</code> example. If there are multiple data
resources you will need to specify which resource you want. Let’s look
at a catalogue record that contains multiple data resources—BC Schools -
Programs Offered in Schools:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Get the record ID for the `bc-schools-programs-offered-in-schools` catalogue record</span></span>
<span><span class="fu"><a href="../reference/bcdc_search.html">bcdc_search</a></span><span class="op">(</span><span class="st">"school programs"</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of B.C. Data Catalogue Records</span></span>
<span><span class="co">#&gt; Number of records: 1</span></span>
<span><span class="co">#&gt; Titles:</span></span>
<span><span class="co">#&gt; 1: BC Schools - Programs Offered in Schools (txt, xlsx)</span></span>
<span><span class="co">#&gt;  ID: b1f27d1c-244a-410e-a361-931fac62a524</span></span>
<span><span class="co">#&gt;  Name: bc-schools-programs-offered-in-schools</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Access a single record by calling `bcdc_get_record(ID)` with the ID from the desired</span></span>
<span><span class="co">#&gt;  record.</span></span>
<span></span>
<span><span class="co">## Get the metadata for the `bc-schools-programs-offered-in-schools` catalogue record</span></span>
<span><span class="fu"><a href="../reference/bcdc_get_record.html">bcdc_get_record</a></span><span class="op">(</span><span class="st">"b1f27d1c-244a-410e-a361-931fac62a524"</span><span class="op">)</span></span>
<span><span class="co">#&gt; B.C. Data Catalogue Record: BC Schools - Programs Offered in Schools</span></span>
<span><span class="co">#&gt; Name: bc-schools-programs-offered-in-schools (ID: b1f27d1c-244a-410e-a361-931fac62a524)</span></span>
<span><span class="co">#&gt; Permalink: https://catalogue.data.gov.bc.ca/dataset/b1f27d1c-244a-410e-a361-931fac62a524</span></span>
<span><span class="co">#&gt; Licence: Open Government Licence - British Columbia</span></span>
<span><span class="co">#&gt; Description: BC Schools English Language Learners, French Immersion, Francophone, Career</span></span>
<span><span class="co">#&gt;  Preparation, Aboriginal Support Services, Aboriginal Language and Culture, Continuing</span></span>
<span><span class="co">#&gt;  Education and Career Technical Programs offered in BC schools up to 2013/2014.</span></span>
<span><span class="co">#&gt; Available Resources (2):</span></span>
<span><span class="co">#&gt;  1. ProgramsOfferedinSchools.txt (txt)</span></span>
<span><span class="co">#&gt;  2. ProgramsOfferedinSchools.xlsx (xlsx)</span></span>
<span><span class="co">#&gt; Access the full 'Resources' data frame using:</span></span>
<span><span class="co">#&gt;  bcdc_tidy_resources('b1f27d1c-244a-410e-a361-931fac62a524')</span></span></code></pre></div>
<p>We see there are two data files or resources available in this
record, so we need to tell <code><a href="../reference/bcdc_get_data.html">bcdc_get_data()</a></code> which one we
want. When used interactively, <code><a href="../reference/bcdc_get_data.html">bcdc_get_data()</a></code> will prompt
you with the list of available resources through <code>bcdata</code> and
ask you to select the resource you want. The resource ID for each data
set is available <em>in</em> the metadata record ☝️:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Get the txt data resource from the `bc-schools-programs-offered-in-schools`</span></span>
<span><span class="co">## catalogue record</span></span>
<span><span class="fu"><a href="../reference/bcdc_get_data.html">bcdc_get_data</a></span><span class="op">(</span><span class="st">"b1f27d1c-244a-410e-a361-931fac62a524"</span>, resource <span class="op">=</span> <span class="st">'a393f8cf-51ec-42c6-8449-4cea4c75385c'</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 16,152 × 24</span></span>
<span><span class="co">#&gt;    Data Le…¹ Schoo…² Facil…³ Publi…⁴ Distr…⁵ Distr…⁶ Schoo…⁷ Schoo…⁸ Has E…⁹ Has C…˟ Has E…˟ Has L…˟</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;   &lt;lgl&gt;   &lt;lgl&gt;   &lt;lgl&gt;  </span></span>
<span><span class="co">#&gt;  1 SCHOOL L… 2005/2… STANDA… BC Pub… 005     Southe… 005010… Sparwo… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt;  2 SCHOOL L… 2006/2… STANDA… BC Pub… 005     Southe… 005010… Sparwo… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt;  3 SCHOOL L… 2007/2… STANDA… BC Pub… 005     Southe… 005010… Sparwo… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt;  4 SCHOOL L… 2005/2… STANDA… BC Pub… 005     Southe… 005010… Jaffra… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt;  5 SCHOOL L… 2006/2… STANDA… BC Pub… 005     Southe… 005010… Jaffra… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt;  6 SCHOOL L… 2007/2… STANDA… BC Pub… 005     Southe… 005010… Jaffra… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt;  7 SCHOOL L… 2008/2… STANDA… BC Pub… 005     Southe… 005010… Jaffra… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt;  8 SCHOOL L… 2009/2… STANDA… BC Pub… 005     Southe… 005010… Jaffra… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt;  9 SCHOOL L… 2010/2… STANDA… BC Pub… 005     Southe… 005010… Jaffra… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt; 10 SCHOOL L… 2011/2… STANDA… BC Pub… 005     Southe… 005010… Jaffra… NA      TRUE    NA      NA     </span></span>
<span><span class="co">#&gt; # … with 16,142 more rows, 12 more variables: `Has Prog Francophone` &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   `Has Any French Immersion Prog` &lt;lgl&gt;, `Has Any French Prog` &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   `Has Aborig Supp Services` &lt;lgl&gt;, `Has Other Appr Aborig Prog` &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   `Has Aborig Lang And Cult` &lt;lgl&gt;, `Has Continuing Ed Prog` &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   `Has Distributed Learn Prog` &lt;lgl&gt;, `Has Career Prep Prog` &lt;lgl&gt;, `Has Coop Prog` &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   `Has Apprenticeship Prog` &lt;lgl&gt;, `Has Career Technical Prog` &lt;lgl&gt;, and abbreviated variable</span></span>
<span><span class="co">#&gt; #   names ¹​`Data Level`, ²​`School Year`, ³​`Facility Type`, ⁴​`Public Or Independent`, …</span></span></code></pre></div>
<p>Alternatively, you can retrieve the full details of the available
resources for a given record as a data frame using
<code><a href="../reference/bcdc_tidy_resources.html">bcdc_tidy_resources()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Get a data frame of data resources for the `bc-schools-programs-offered-in-schools`</span></span>
<span><span class="co">## catalogue record</span></span>
<span><span class="fu"><a href="../reference/bcdc_tidy_resources.html">bcdc_tidy_resources</a></span><span class="op">(</span><span class="st">"b1f27d1c-244a-410e-a361-931fac62a524"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 9</span></span>
<span><span class="co">#&gt;   name                          url               id    format ext   packa…¹ locat…² wfs_a…³ bcdat…⁴</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                         &lt;chr&gt;             &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;   &lt;lgl&gt;  </span></span>
<span><span class="co">#&gt; 1 ProgramsOfferedinSchools.txt  http://www.bced.… a393… txt    txt   b1f27d… catalo… FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 2 ProgramsOfferedinSchools.xlsx http://www.bced.… 1e34… xlsx   xlsx  b1f27d… catalo… FALSE   TRUE   </span></span>
<span><span class="co">#&gt; # … with abbreviated variable names ¹​package_id, ²​location, ³​wfs_available, ⁴​bcdata_available</span></span></code></pre></div>
<p><code><a href="../reference/bcdc_get_data.html">bcdc_get_data()</a></code> will also detect if the data resource is
a geospatial file, and automatically reads and returns it as an <a href="https://r-spatial.github.io/sf/" class="external-link"><code>sf</code> object</a> in
your R session.</p>
<p>Let’s get the air zones for British Columbia:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Find the B.C. Air Zones catalogue record</span></span>
<span><span class="fu"><a href="../reference/bcdc_search.html">bcdc_search</a></span><span class="op">(</span><span class="st">"air zones"</span>, res_format <span class="op">=</span> <span class="st">"geojson"</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of B.C. Data Catalogue Records</span></span>
<span><span class="co">#&gt; Number of records: 1</span></span>
<span><span class="co">#&gt; Titles:</span></span>
<span><span class="co">#&gt; 1: British Columbia Air Zones (shp, kml, geojson)</span></span>
<span><span class="co">#&gt;  ID: e8eeefc4-2826-47bc-8430-85703d328516</span></span>
<span><span class="co">#&gt;  Name: british-columbia-air-zones</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Access a single record by calling `bcdc_get_record(ID)` with the ID from the desired</span></span>
<span><span class="co">#&gt;  record.</span></span>
<span></span>
<span><span class="co">## Get the metadata for the B.C. Air Zones catalogue record</span></span>
<span><span class="va">bc_az_metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bcdc_get_record.html">bcdc_get_record</a></span><span class="op">(</span><span class="st">"e8eeefc4-2826-47bc-8430-85703d328516"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Get the B.C. Air Zone geospatial data</span></span>
<span><span class="va">bc_az</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bcdc_get_data.html">bcdc_get_data</a></span><span class="op">(</span><span class="va">bc_az_metadata</span>, resource <span class="op">=</span> <span class="st">"c495d082-b586-4df0-9e06-bd6b66a8acd9"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Plot the B.C. Air Zone geospatial data with ggplot()</span></span>
<span><span class="va">bc_az</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette-fig-air_zones-1.png" alt="plot of chunk air_zones" width="100%"></p>
<p><strong>Note:</strong> The <code>bcdata</code> package supports
downloading <em>most</em> file types, including zip archives. It will do
its best to identify and read data from zip files, however if there are
multiple data files in the zip, or data files that <code>bcdata</code>
doesn’t know how to import, it will fail.</p>
</div>
<div class="section level3">
<h3 id="bcdc_query_geodata">
<code>bcdc_query_geodata()</code><a class="anchor" aria-label="anchor" href="#bcdc_query_geodata"></a>
</h3>
<p>Many geospatial data sets in the B.C. Data Catalogue are available
through a <a href="https://en.wikipedia.org/wiki/Web_Feature_Service" class="external-link">Web Feature
Service</a>. While <code><a href="../reference/bcdc_get_data.html">bcdc_get_data()</a></code> will retrieve the
geospatial data for you, sometimes the geospatial file is very large—and
slow to download—and/or you may only want <em>some</em> of the data.
<code><a href="../reference/bcdc_query_geodata.html">bcdc_query_geodata()</a></code> let’s you query catalogue geospatial
data available as a Web Feature Service using <code>select</code> and
<code>filter</code> functions (just like in <a href="https://dplyr.tidyverse.org/" class="external-link"><code>dplyr</code></a>. The
<code>bcdc::collect()</code> function returns the
<code><a href="../reference/bcdc_query_geodata.html">bcdc_query_geodata()</a></code> query results as an <a href="https://r-spatial.github.io/sf/" class="external-link"><code>sf</code> object</a> in
your R session.</p>
<p>Let’s get the Capital Regional District boundary from the <a href="https://catalogue.data.gov.bc.ca/dataset/d1aff64e-dbfe-45a6-af97-582b7f6418b9" class="external-link">B.C.
Regional Districts geospatial data</a>—the whole file takes 30-60
seconds to download and I only need the one polygon, so why not save
some time:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Find the B.C. Regional Districts catalogue record</span></span>
<span><span class="fu"><a href="../reference/bcdc_search.html">bcdc_search</a></span><span class="op">(</span><span class="st">"regional districts administrative areas"</span>, res_format <span class="op">=</span> <span class="st">"wms"</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of B.C. Data Catalogue Records</span></span>
<span><span class="co">#&gt; Number of records: 1</span></span>
<span><span class="co">#&gt; Titles:</span></span>
<span><span class="co">#&gt; 1: Regional Districts - Legally Defined Administrative Areas of BC (multiple, xlsx, wms,</span></span>
<span><span class="co">#&gt;  kml)</span></span>
<span><span class="co">#&gt;  ID: d1aff64e-dbfe-45a6-af97-582b7f6418b9</span></span>
<span><span class="co">#&gt;  Name: regional-districts-legally-defined-administrative-areas-of-bc</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Access a single record by calling `bcdc_get_record(ID)` with the ID from the desired</span></span>
<span><span class="co">#&gt;  record.</span></span>
<span></span>
<span><span class="co">## Get the metadata for the B.C. Regional Districts catalogue record</span></span>
<span><span class="va">bc_regional_districts_metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bcdc_get_record.html">bcdc_get_record</a></span><span class="op">(</span><span class="st">"d1aff64e-dbfe-45a6-af97-582b7f6418b9"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## We can see in the search results, and in the metadata record, that this record has a `"wms"`</span></span>
<span><span class="co">## resource format, indicating that it is available as a Web Feature Service and thus</span></span>
<span><span class="co">## we can query it using `bcdc_query_geodata()`</span></span>
<span></span>
<span><span class="co">## Have a quick look at the geospatial columns to help with filter or select</span></span>
<span><span class="fu"><a href="../reference/bcdc_describe_feature.html">bcdc_describe_feature</a></span><span class="op">(</span><span class="va">bc_regional_districts_metadata</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 21 × 5</span></span>
<span><span class="co">#&gt;    col_name                 sticky remote_col_type local_col_type column_comments                   </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                    &lt;lgl&gt;  &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;                             </span></span>
<span><span class="co">#&gt;  1 id                       TRUE   xsd:string      character       &lt;NA&gt;                             </span></span>
<span><span class="co">#&gt;  2 LGL_ADMIN_AREA_ID        TRUE   xsd:decimal     numeric        "An operationally-generated uniqu…</span></span>
<span><span class="co">#&gt;  3 ADMIN_AREA_NAME          FALSE  xsd:string      character      "The authoritative, officially ap…</span></span>
<span><span class="co">#&gt;  4 ADMIN_AREA_ABBREVIATION  FALSE  xsd:string      character      "A short form or commonly-known a…</span></span>
<span><span class="co">#&gt;  5 ADMIN_AREA_BOUNDARY_TYPE FALSE  xsd:string      character      "BOUNDARY TYPE is a high-level gr…</span></span>
<span><span class="co">#&gt;  6 ADMIN_AREA_GROUP_NAME    FALSE  xsd:string      character      "The name given to the larger adm…</span></span>
<span><span class="co">#&gt;  7 CHANGE_REQUESTED_ORG     FALSE  xsd:string      character      "The government acronym of the Mi…</span></span>
<span><span class="co">#&gt;  8 UPDATE_TYPE              FALSE  xsd:string      character      "A short description of the lates…</span></span>
<span><span class="co">#&gt;  9 WHEN_UPDATED             FALSE  xsd:date        date           "The date and time the record was…</span></span>
<span><span class="co">#&gt; 10 MAP_STATUS               FALSE  xsd:string      character      "That the digital map has been ap…</span></span>
<span><span class="co">#&gt; # … with 11 more rows</span></span>
<span></span>
<span><span class="co">## Get the Capital Regional District polygon from the B.C. Regional</span></span>
<span><span class="co">## Districts geospatial data</span></span>
<span><span class="va">my_regional_district</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bcdc_query_geodata.html">bcdc_query_geodata</a></span><span class="op">(</span><span class="va">bc_regional_districts_metadata</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ADMIN_AREA_NAME</span> <span class="op">==</span> <span class="st">"Capital Regional District"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/collect-methods.html">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Plot the Capital Regional District polygon with ggplot()</span></span>
<span><span class="va">my_regional_district</span>  <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette-fig-regional_districts-1.png" alt="plot of chunk regional_districts" width="100%"></p>
<p>The vignette <a href="https://bcgov.github.io/bcdata/articles/efficiently-query-spatial-data-in-the-bc-data-catalogue.html">Querying
Spatial Data with bcdata</a> provides a full demonstration on how to use
<code><a href="../reference/bcdc_query_geodata.html">bcdata::bcdc_query_geodata()</a></code> to fine tune a <a href="https://www2.gov.bc.ca/gov/content?id=95D78D544B244F34B89223EF069DF74E" class="external-link">Web
Feature Service</a> request for geospatial data from the B.C. Data
Catalogue.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Andy Teucher, Sam Albers, Stephanie Hazlitt.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
